angular.module("Skillopedia",["ngRoute","LocalStorageModule"]).config(["$routeProvider","$httpProvider","$locationProvider","localStorageServiceProvider","config",function(e,r,o,t,n){angular.forEach(n.interceptor,function(r){var o=r.replace(/_[a-z]/g,function(e){return e.split("_")[1].toUpperCase()});o+="Controller",e.when("/"+r,{templateUrl:"templates/"+r+".html",reloadOnSearch:!1,controller:o})}),e.otherwise("/index"),r.defaults.useXDomain=!0,r.defaults.withCredentials=!0,delete r.defaults.headers.common["X-Requested-With"],t.setStorageCookie(.02),r.interceptors.push("tokenInterceptor")}]).run(["appServices",function(e){e.init()}]),angular.module("Skillopedia").controller("supportController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("stepsPublishController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("stepDraftController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("stepsController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("signinController",["$scope","$route","$window","errorServices","toastServices","localStorageService","config",function(e,r,o){e.ajaxForm=function(){o.location.href="#/courses",$.magnificPopup.close()}}]),angular.module("Skillopedia").controller("sidebarController",["$scope","$route","$location","errorServices","toastServices","localStorageService","config",function(e,r,o){console.log("sidebar"),e.highlight=function(e){return e==o.path()?!0:!1}}]),angular.module("Skillopedia").controller("shoppingcartController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("servicesController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("searchController",["$scope","$timeout","filterFilter","errorServices","toastServices","localStorageService","config",function(e,r,o){e.input={keyword:"",zipcode:"",suggestions:[]};var t=["235689","565237","2356998","53389"];e.$watch("input.zipcode",function(r){e.input.suggestions=o(t,r)}),e.select=function(o){e.input.zipcode=o,r(function(){e.input.suggestions=[]},100)}}]),angular.module("Skillopedia").controller("scheduleController",["$scope","errorServices","toastServices","localStorageService","config",function(e){e.calendar={mode:"edit",times:[{hour:"00:00-08:30",plan:"free time",state:"1"},{hour:"08:30-09:00",plan:"free time",state:"3"},{hour:"09:00-08:30",plan:"free time",state:"1"},{hour:"10:30-09:00",plan:"free time",state:"1"},{hour:"11:00-08:30",plan:"free time",state:"1"},{hour:"12:00-08:30",plan:"free time",state:"1"},{hour:"13:30-09:00",plan:"free time",state:"1"},{hour:"14:00-08:30",plan:"free time",state:"1"}]}}]),angular.module("Skillopedia").controller("privacyController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("ordersManagementController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("ordersController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("orderRefundController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("orderManagementController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("orderFinishController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("orderController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("orderConfirmController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("orderCommentController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("orderCancelController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("orderBookingController",["$scope","errorServices","toastServices","localStorageService","config",function(e){e.calendar={times:[{hour:"00:00-08:30",plan:"free time",state:"1"},{hour:"08:30-09:00",plan:"free time",state:"3"},{hour:"09:00-08:30",plan:"free time",state:"1"},{hour:"10:30-09:00",plan:"free time",state:"1"},{hour:"11:00-08:30",plan:"free time",state:"1"},{hour:"12:00-08:30",plan:"free time",state:"1"},{hour:"13:30-09:00",plan:"free time",state:"1"},{hour:"14:00-08:30",plan:"free time",state:"1"}]}}]),angular.module("Skillopedia").controller("messagesController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("listController",["$scope","errorServices","toastServices","localStorageService","config",function(e){e.input={categorys:["football","basketball","swimming"],distances:["500-1000mile","1000-1500mile","1500-2000mile","2000-2500mile","2500-3000mile"],priorities:["distance","price","review","hot"]},e.remove=function(r){e.input[r]=""},e.sidebar={title:"recommand"},e.change_sidebar=function(r){e.sidebar.title=r}}]),angular.module("Skillopedia").controller("indexController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("fillinorderController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("favouriteController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("detailController",["$scope","errorServices","toastServices","localStorageService","config",function(e){e.calendar={times:[{hour:"00:00-08:30",plan:"free time",state:"1"},{hour:"08:30-09:00",plan:"free time",state:"3"},{hour:"09:00-08:30",plan:"free time",state:"1"},{hour:"10:30-09:00",plan:"free time",state:"1"},{hour:"11:00-08:30",plan:"free time",state:"1"},{hour:"12:00-08:30",plan:"free time",state:"1"},{hour:"13:30-09:00",plan:"free time",state:"1"},{hour:"14:00-08:30",plan:"free time",state:"1"}]}}]),angular.module("Skillopedia").controller("createStepController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("createCourseController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("coursesController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("couponExpiredController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("couponsController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("contactController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("commentsController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("coachController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("authenicationController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("accountController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("aboutController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").factory("tokenInterceptor",["$location","$q","localStorageService","errorServices","config",function(e,r,o,t,n){return{request:function(e){return e},requestError:function(){},response:function(t){var a=r.defer();return t.config.url.indexOf(".html")>0?t:t.data.respcode==n.request.TOKEN_INVALID?(console.log("TOKEN_INVALID"),o.remove("token"),e.path("/signIn").replace(),a.promise):t},responseError:function(e){var o=r.defer();return t.requestError(e.data,e.status,e.headers,e.config),o.promise}}}]),angular.module("Skillopedia").factory("toastServices",function(){return{show:function(){$(".toast").show()},hide:function(){$(".toast").hide()},start:function(){NProgress.start()},done:function(){NProgress.done()}}}),angular.module("Skillopedia").factory("skillopediaServices",["$http","config",function(e,r){return{query_banner:function(o){return e({url:r.url+"interface",method:"GET",params:angular.extend({},r.common_params,o)}).then(function(e){return e.data})},query_base_category:function(o){return e({url:r.url+"interface",method:"GET",params:angular.extend({},r.common_params,o)}).then(function(e){return e.data})},query_recommand_category:function(o){return e({url:r.url+"interface",method:"GET",params:angular.extend({},r.common_params,o)}).then(function(e){return e.data})},query_hot_category:function(o){return e({url:r.url+"interface",method:"GET",params:angular.extend({},r.common_params,o)}).then(function(e){return e.data})}}}]),angular.module("Skillopedia").factory("errorServices",["$rootScope","$timeout","toastServices",function(e,r,o){return{show:function(r){e.error_msg=r,$(".error-msg").show()},hide:function(){e.error_msg="",$(".error-msg").hide()},autoHide:function(o){e.error_msg=o,$(".error-msg").show(),r(function(){e.error_msg="",$(".error-msg").hide()},3e3)},requestError:function(e,r,t,n){switch(o.hide(),r){case 0:this.autoHide("连接超时");break;case 500:case 501:case 502:case 503:case 504:case 505:case 506:case 507:case 509:case 510:this.autoHide("服务器连接出错")}console.log("onRequestError output status, data, headers, config"),console.log(r),console.log(e),console.log(t),console.log(n),console.log("onRequestError end")}}}]),angular.module("Skillopedia").factory("coursesServices",["$http","config",function(e,r){return{query:function(o){return e({url:r.url+"interface",method:"GET",params:angular.extend({},r.common_params,o)}).then(function(e){return e.data})},query_by_id:function(o){return e({url:r.url+"interface",method:"GET",params:angular.extend({},r.common_params,o)}).then(function(e){return e.data})}}}]),angular.module("Skillopedia").factory("appServices",["$rootScope","$window","$location","errorServices","toastServices",function(e,r,o,t,n){var a=function(){},l=function(e,r,o){n.hide(),t.hide(),c(e,r,o)},i=function(){},c=function(){},s=function(){$.magnificPopup.open({items:{src:"#signin-popup"},type:"inline"},0)};return{init:function(){e.$on("$routeChangeStart",a),e.$on("$routeChangeSuccess",l),e.$on("$routeChangeError",i),e.signin=function(){e.sign="signin",s()},e.signup=function(){e.sign="signup",s()},e.forget=function(){e.sign="forget",s()},e.go=function(e){o.path(e)}}}}]),angular.module("Skillopedia").directive("confirm",function(){return{restrict:"E",scope:{confirm:"="},templateUrl:"templates/confirm.html",link:function(e,r){e.confirm=angular.extend({},{title:"Tips",content:"Are You Sure?",open:function(){$(r).show()},cancel:function(){$(r).hide()},ok:function(){$(r).hide()}},e.confirm)}}}),angular.module("Skillopedia").directive("calendar",["$filter",function(e){return{restrict:"E",templateUrl:"templates/calendar.html",scope:{calendar:"="},link:function(r){r.calendar=angular.extend({},r.calendar),r.calendar.day=e("date")(new Date);var o=$(".calendar-day").pickadate(),t=o.pickadate("picker");t.on({set:function(){var e=t.get();r.$apply(function(){r.calendar.day=e||r.calendar.day})}}),r.pickadate=function(e){t.open(),e.stopPropagation(),e.preventDefault()},"edit"==r.calendar.mode&&(r.calendar.selected=[],r.select=function(e,o){var t=o+1;if(t=t>r.calendar.times.length-1?r.calendar.times.length-1:t,o!=t&&1==e.state&&1==r.calendar.times[t].state){e.state=2;var n={from:e,to:r.calendar.times[t]};r.calendar.times[t].state=2,r.calendar.selected.push(n)}},r.calendar.remove=function(e){r.calendar.selected=r.calendar.selected.filter(function(r){return r.from.hour!=e.from.hour}),r.calendar.times=r.calendar.times.map(function(r){return(r.hour==e.from.hour||r.hour==e.to.hour)&&(r.state=1),r})})}}}]),angular.module("Skillopedia").constant("config",{url:"http://47.88.79.54/",imageUrl:"http://47.88.79.54/files/image?name=",request:{SUCCESS:"200",TOKEN_INVALID:"405"},response:{SUCCESS:1},common_params:{},interceptor:["about","account","authenication","coach","comments","contact","coupons_expired","coupons","courses","create_course","create_step","detail","favourite","fillinorder","index","list","messages","order","order_booking","order_cancel","order_comment","order_confirm","order_finish","order_management","order_refund","orders","orders_management","privacy","schedule","services","shoppingcart","steps","steps_draft","steps_publish","support"]});
//# sourceMappingURL=app.min.js.map
